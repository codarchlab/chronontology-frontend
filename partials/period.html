<div class="container-fluid">
    <div ng-controller="PeriodController">

        <h2>{{ period.names | prefName }}
            <small>{{ period.types.join(", ") }}</small>
            <br/>
            <small>http://chronontology.dainst.org/period/{{ document.resource.id }}</small>
        </h2>

        <div class="row">
            &nbsp;
        </div>

        <div class="row">

            <div class="col-md-5">

                <div class="well well-sm timeline-container-small">
                    <timeline periods="provenancePeriods" selected-period-id="document.resource.id"></timeline>
                </div>

                <div class="embed-responsive embed-responsive-4by3">
                    <iframe id="geo" ng-src="{{ geoFrameUrl }}" allowfullscreen></iframe>
                </div>

            </div>

            <div class="col-md-7">

                <ul class="nav nav-tabs">
                    <li ng-class="{ 'active': (activeTab == 'info') }">
                        <a href="#" ng-click="activeTab = 'info'">
                            {{ "ui_infoTab" | transl8 }}
                        </a>
                    </li>
                    <li ng-class="{ 'active': (activeTab == 'edit') }">
                        <a href="#" ng-click="activeTab = 'edit'">
                            <span class="glyphicon glyphicon-edit"></span>
                            {{ "ui_editTab" | transl8 }}
                        </a>
                    </li>

                    <li>
                        <button type="button"
                                class="btn btn-primary"
                                style="margin-top: 5px;"
                                ng-click="exportJSON()">
                            <span class="glyphicon glyphicon-floppy-disk" aria-hidden="true"></span>Download JSON
                        </button>
                    </li>
                </ul>

                <div ng-show="activeTab == 'info'" style="margin: 30px 0;">
                    <period-information period="period"
                                        internal-relations="internalRelations"
                                        gazetteer-relations="gazetteerRelations"
                                        document="document"
                                        related-documents="relatedDocuments">
                    </period-information>
                </div>

                <div ng-show="activeTab == 'edit'" style="margin: 30px 0;">
                    <period-edit original-period="period"
                                 internal-relations="internalRelations"
                                 gazetteer-relations="gazetteerRelations"
                                 document="document"
                                 related-documents="relatedDocuments"
                                 on-save="savePeriod(updatedPeriod)">
                    </period-edit>
                </div>
            </div>

        </div>

    </div>
</div>