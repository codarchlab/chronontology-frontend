<div class="idai-picker">
    <script type="text/ng-template" id="geopickerquery_modal.html">
        <div class="panel panel-default picker-modal">
            <div class="panel-heading">
                <form class="form-inline">
                    <select id="gazetteertype" ng-model="gazetteerType" class="form-control">
                        <option value="dai">idai.gazetteer</option>
                        <option value="getty">Getty TGN</option>
                        <option value="geonames" selected>GeoNames</option>
                        <option value="pleiades">Pleiades</option>
                    </select>
                    <div class="input-group">
                        <input id="query" type="text" ng-model="query" ng-change="$ctrl.loadTable()"
                            class="form-control" autofocus>
                        </input>
                    </div>
                    <div class="btn-group" role="group">
                        <button type="button" class="btn btn-default"
                                ng-class="{'active': view == 'list'}"
                                ng-click="$ctrl.setView('list')">
                            <span class="glyphicon glyphicon-th-list"></span>
                        </button>
                        <button type="button" class="btn btn-default"
                                ng-class="{'active': view == 'map'}"
                                ng-click="$ctrl.setView('map')">
                            <span class="glyphicon glyphicon-globe"></span>
                        </button>
                    </div>
                </form>
                <geosearchresultslist ng-if="view == 'list'"
                    datasource='{{datasource}}'
                    on-place-selected="$ctrl.selectPlace(place)"></geosearchresultslist>
                <geosearchresults ng-if="view == 'map'"
                    datasource='{{datasource}}'
                    on-place-selected="$ctrl.selectPlace(place)"></geosearchresults>
                <div id="list"></div>
            </div>
        </div>
    </script>

    <div class="input-group">
        <span class="input-group-btn">
            <button class="btn btn-default" type="button" ng-click="$ctrl.openModal()">
                <span class="glyphicon glyphicon-th-list"></span>
            </button>
        </span>
        <span class="form-control">
            <span ng-show="!$ctrl.selectedItem" class="ng-binding">WÃ¤hlen Sie einen Eintrag</span>
            <a ng-show="$ctrl.selectedItem &amp;&amp; $ctrl.selectedItem.properties['@id']"
                ng-href="{{$ctrl.selectedItem.properties['@id']}}"
                target="_blank" class="ng-binding ng-hide">{{$ctrl.selectedItem.properties['@id']}}</a>
            <button class="btn btn-link btn-xs ng-hide" ng-show="$ctrl.selectedItem"
                    ng-click="$ctrl.deselectPlace()">
                <span class="glyphicon glyphicon-remove-sign text-muted"></span>
            </button>
        </span>
    </div>
</div>
